<!doctype html>
<html ng-app="musicApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Node/Angular Music App</title>
    <link rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <style>
    html                    { overflow-y:scroll; }
    body                    { padding-top:50px; }
    #todo-list              { margin-bottom:30px; }
    </style>

    <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script> -->
    <!-- <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script> -->
    <script src="./bower_components/jquery/dist/jquery.min.js"></script>
    <script src="./bower_components/angular/angular.min.js"></script>
    <script src="./bower_components/angular-local-storage/dist/angular-local-storage.min.js"></script>
    <script src="./bower_components/ng-file-upload/ng-file-upload.min.js"></script>
    <script src="./bower_components/satellizer/satellizer.min.js"></script>
    <script src="core.js"></script>

</head>
<body ng-controller="mainController">
    <div class="container">
        <p>Login or Register with:</p>

        <!-- <a href="/auth/facebook" class="btn btn-primary"><span class="fa fa-facebook"></span> Facebook</a> -->


        <div class="jumbotron text-center">
            <h1>I'm a Todo-aholic <span class="label label-info">{{ todos.length }}</span></h1>
        </div>
        <p>
            Ab chalega {{2+34}}
        </p>
        <h3>Public Songs</h3>
        <ul ng-repeat = "publicSong in publicSongs">
            <li> {{publicSong.trackName}} <audio controls="" ngf-src="publicSong.trackLink"></audio><input class="form-control input-lg" type="text" name="publicSong.shareTo" ng-model="shareTo" placeholder="Email"> <a ng-click = "shareSong(publicSong)">SHARE</a> </li>
        </ul>
        <h3>Uploaded Songs</h3>
        <ul ng-repeat = "uploadedSong in uploadedSongs">
            <li> {{uploadedSong.trackName}} <audio controls="" ngf-src="uploadedSong.trackLink"></audio>  </li>
        </ul>
    </div>

    Drop File:
    <label><input type="checkbox" ng-model="isSongPublic">Public?</label>
    <div ngf-drop="uploadFiles($files)" class="drop-box" ngf-drag-over-class="'dragover'" ngf-multiple="true" ngf-pattern="'audio/*'">Drop music</div>
    <audio controls="" ngf-src="!files[0].$error && files[0]"></audio>


    {{currentUser}}
    <!--  add isAuthenticated() here-->
    <div ng-hide = "!showSignup" ng-init = "showSignup = false">
        <input class="form-control input-lg" type="text" name="email" ng-model="user.email" placeholder="Email" required autofocus>
        <input class="form-control input-lg" type="password" name="password" ng-model="user.password" placeholder="Password" required>
        <button ng-click = "signup()" class="btn btn-lg  btn-block btn-success">Sign Up</button>
        <a ng-click = "showSignup = !showSignup; showLogin = !showLogin">Have an account? Login </a>
    </div>

    <div ng-hide = "!showLogin" ng-init = "showLogin = true">
        <input class="form-control input-lg" type="text" name="email" ng-model="user.email" placeholder="Email" required autofocus>
        <input class="form-control input-lg" type="password" name="password" ng-model="user.password" placeholder="Password" required>
        <button ng-click = "login()" class="btn btn-lg  btn-block btn-success">Login</button>
        <a ng-click = "showSignup = !showSignup; showLogin = !showLogin">Don't have an account? Sign up here. </a>
    </div>

    <button ng-click="authenticate('facebook')">Sign in with Facebook</button>
</body>
</html>
